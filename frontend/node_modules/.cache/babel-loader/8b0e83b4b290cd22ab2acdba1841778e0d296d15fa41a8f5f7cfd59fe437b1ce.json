{"ast":null,"code":"var _jsxFileName = \"/home/ignacio/Escritorio/mi-ejercicio/frontend/src/components/NotesList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { getNotes, toggleArchive, deleteNote, createNote } from \"../services/api\";\nimport NoteCard from \"./NoteCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction NotesList() {\n  _s();\n  const [notes, setNotes] = useState([]); // Estado para holdear notas\n  const [loading, setLoading] = useState(true); // Estado para mostrar la carga\n  const [categories, setCategories] = useState([]);\n  // Fetch de notas del backend cuando se monta el componente\n  useEffect(() => {\n    async function fetchNotes() {\n      try {\n        const data = await getNotes();\n        setNotes(data);\n      } catch (error) {\n        console.error(\"Error fetching notes:\", error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchNotes();\n  }, []);\n\n  //Fetch de categorias del backend cuando se monta el componente\n  useEffect(() => {\n    async function fetchCategories() {\n      try {\n        const data = await getCategories(); // Función que debemos definir en api.js\n        setCategories(data);\n      } catch (error) {\n        console.error(\"Error fetching categories:\", error);\n      }\n    }\n    fetchCategories();\n  }, []);\n\n  // Función para crear nota simple\n  const handleCreateNote = async () => {\n    const title = prompt(\"Enter note title:\");\n    const content = prompt(\"Enter note content:\");\n    if (!title || !content) return;\n    try {\n      const newNote = await createNote({\n        Title: title,\n        Content: content\n      });\n      setNotes([...notes, newNote]);\n    } catch (error) {\n      console.error(\"Failed to create note:\", error);\n    }\n  };\n\n  // Archivar o Desarchivar nota\n  const handleToggleArchive = async id => {\n    try {\n      const updatedNote = await toggleArchive(id);\n      setNotes(notes.map(n => n.ID === updatedNote.ID ? updatedNote : n));\n    } catch (error) {\n      console.error(\"Failed to toggle archive:\", error);\n    }\n  };\n\n  // Borrar nota\n  const handleDelete = async id => {\n    try {\n      await deleteNote(id);\n      setNotes(notes.filter(n => n.ID !== id));\n    } catch (error) {\n      console.error(\"Failed to delete note:\", error);\n    }\n  };\n\n  // Editar (simplificada, después podemos agregar formulario)\n  function handleEdit(note) {\n    alert(\"Edit feature coming soon: \" + note.Title);\n  }\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading notes...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleCreateNote,\n      style: {\n        marginBottom: \"15px\"\n      },\n      children: \"Create Note\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Notes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }, this), notes.map(note => /*#__PURE__*/_jsxDEV(NoteCard, {\n      note: note,\n      onArchive: handleToggleArchive,\n      onDelete: handleDelete,\n      onEdit: handleEdit\n    }, note.ID, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 3\n  }, this);\n}\n_s(NotesList, \"9r7B7v8UgVY9XHxXXoAwrCwQb24=\");\n_c = NotesList;\nexport default NotesList;\nvar _c;\n$RefreshReg$(_c, \"NotesList\");","map":{"version":3,"names":["React","useEffect","useState","getNotes","toggleArchive","deleteNote","createNote","NoteCard","jsxDEV","_jsxDEV","NotesList","_s","notes","setNotes","loading","setLoading","categories","setCategories","fetchNotes","data","error","console","fetchCategories","getCategories","handleCreateNote","title","prompt","content","newNote","Title","Content","handleToggleArchive","id","updatedNote","map","n","ID","handleDelete","filter","handleEdit","note","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","marginBottom","onArchive","onDelete","onEdit","_c","$RefreshReg$"],"sources":["/home/ignacio/Escritorio/mi-ejercicio/frontend/src/components/NotesList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  getNotes,\n  toggleArchive,\n  deleteNote,\n  createNote\n} from \"../services/api\";\nimport NoteCard from \"./NoteCard\";\n\nfunction NotesList() {\n  const [notes, setNotes] = useState([]); // Estado para holdear notas\n  const [loading, setLoading] = useState(true); // Estado para mostrar la carga\n  const [categories, setCategories] = useState([]);\n  // Fetch de notas del backend cuando se monta el componente\n  useEffect(() => {\n  async function fetchNotes() {\n    try {\n      const data = await getNotes();\n      setNotes(data);\n    } catch (error) {\n      console.error(\"Error fetching notes:\", error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  fetchNotes();\n}, []);\n\n//Fetch de categorias del backend cuando se monta el componente\nuseEffect(() => {\n  async function fetchCategories() {\n    try {\n      const data = await getCategories(); // Función que debemos definir en api.js\n      setCategories(data);\n    } catch (error) {\n      console.error(\"Error fetching categories:\", error);\n    }\n  }\n\n  fetchCategories();\n}, []);\n\n  // Función para crear nota simple\n  const handleCreateNote = async () => {\n    const title = prompt(\"Enter note title:\");\n    const content = prompt(\"Enter note content:\");\n    if (!title || !content) return;\n    try {\n      const newNote = await createNote({ Title: title, Content: content });\n      setNotes([...notes, newNote]);\n    } catch (error) {\n      console.error(\"Failed to create note:\", error);\n    }\n  };\n\n\n  // Archivar o Desarchivar nota\n  const handleToggleArchive = async (id) => {\n    try {\n      const updatedNote = await toggleArchive(id);\n      setNotes(notes.map(n => (n.ID === updatedNote.ID ? updatedNote : n)));\n    } catch (error) {\n      console.error(\"Failed to toggle archive:\", error);\n    }\n  };\n\n  // Borrar nota\n  const handleDelete = async (id) => {\n    try {\n      await deleteNote(id);\n      setNotes(notes.filter(n => n.ID !== id));\n    } catch (error) {\n      console.error(\"Failed to delete note:\", error);\n    }\n  };\n\n  // Editar (simplificada, después podemos agregar formulario)\n  function handleEdit(note) {\n  alert(\"Edit feature coming soon: \" + note.Title);\n  }\n\n  if (loading) return <p>Loading notes...</p>;\n\n  return (\n  <div>\n    <button onClick={handleCreateNote} style={{ marginBottom: \"15px\" }}>\n    Create Note\n    </button>\n    <h1>Notes</h1>\n    {notes.map(note => (\n      <NoteCard\n        key={note.ID}\n        note={note}\n        onArchive={handleToggleArchive}\n        onDelete={handleDelete}\n        onEdit={handleEdit}\n      />\n    ))}\n  </div>\n);\n}\n\nexport default NotesList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}